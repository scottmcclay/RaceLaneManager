<link rel="import" href="/bower_components/polymer/polymer.html" />
<link rel="import" href="/bower_components/paper-styles/typography.html" />
<link rel="import" href="/bower_components/paper-styles/shadow.html" />
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html" />
<link rel="import" href="/bower_components/iron-collapse/iron-collapse.html" />
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html" />
<link rel="import" href="/bower_components/paper-card/paper-card.html" />
<link rel="import" href="/shared-styles.html" />

<dom-module id="rlm-current-race-details">
    <template>
        <style include="shared-styles iron-flex">
            :host {
                display: block;
                padding: 10px;
            }
        </style>

        <custom-style>
            <style is="custom-style">
                .paper-font-title { @apply --paper-font-title; }
                .paper-font-body2 { @apply --paper-font-body2; }
                .paper-font-body1 { @apply --paper-font-body1; }
                .paper-font-display1 { @apply --paper-font-display1; }
                .paper-font-display4 { @apply --paper-font-display4; }
                .paper-font-headline { @apply --paper-font-headline; }
            </style>
        </custom-style>
        <div class="layout vertical">
            <div class="layout flex">
                <div class="layout horizontal center-justified">
                    <div class="flex self-center paper-font-display1" style="text-align: center; line-height: 120px; padding-bottom: 30px;">
                        Race 5
                    </div>
                    <div class="flex self-center paper-font-display4" style="padding-bottom: 30px;">
                        Lining Up
                    </div>
                </div>
            </div>
            <!--<div style="display: table; width: 100%;">
                <div style="display: table-row;">
                    <template is="dom-repeat" items="{{lanes}}" as="lane">
                        <div style="display: table-cell; text-align: center;" class="paper-font-headline">Lane {{lane.lane}}</div>
                    </template>
                </div>
                <div style="display: table-row;">
                    <template is="dom-repeat" items="{{lanes}}" as="lane">
                        <div style="display: table-cell;">
                            <div class="paper-font-title">{{lane.car}}</div>
                            <div class="paper-font-body1">{{lane.name}}</div>
                            <div style="display: table; width: 100%; padding-top: 5px;">
                                <div style="display: table-row">
                                    <div class="paper-font-body2" style="display: table-cell;">Time:</div>
                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">6.534</div>
                                </div>
                                <div style="display: table-row">
                                    <div class="paper-font-body2" style="display: table-cell;">Position:</div>
                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">2</div>
                                </div>
                                <div style="display: table-row">
                                    <div class="paper-font-body2" style="display: table-cell;">Points:</div>
                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">2</div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>-->
            <div class="layout flex">
                <div class="layout horizontal center-justified">
                    <template is="dom-repeat" items="{{lanes}}" as="lane">
                        <div class="layout flex-auto" style="width: 16%;">
                            <div class="container layout vertical">
                                <div class="layout flex paper-font-headline" style="text-align: center;">Lane {{lane.lane.laneNum}}</div>
                                <div class="card layout flex">
                                    <div class="container layout vertical">
                                        <div class="layout flex">
                                            <div class="paper-font-title ellipsis">{{lane.car.name}}</div>
                                            <div class="paper-font-body1 ellipsis">{{lane.car.owner}}</div>
                                            <div style="display: table; width: 100%; padding-top: 5px;">
                                                <div style="display: table-row">
                                                    <div class="paper-font-body2" style="display: table-cell;">Time:</div>
                                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">1</div>
                                                </div>
                                                <div style="display: table-row">
                                                    <div class="paper-font-body2" style="display: table-cell;">Position:</div>
                                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">2</div>
                                                </div>
                                                <div style="display: table-row">
                                                    <div class="paper-font-body2" style="display: table-cell;">Points:</div>
                                                    <div class="paper-font-body2" style="display: table-cell; text-align: right;">2</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card layout flex">
                                    <div class="container layout vertical">
                                        <div class="paper-font-subhead" style="margin-top: 20px;">Previous Races</div>
                                        <template is="dom-repeat" items="{{lane.history}}" as="race">
                                            <div class="divider" style="margin-top: 15px; margin-bottom: 5px;">
                                                <div style="display: table; width: 100%;">
                                                    <div style="display: table-row">
                                                        <div class="paper-font-body2" style="display: table-cell;">Race {{race.race}}</div>
                                                        <div class="paper-font-body2" style="display: table-cell; text-align: right;">Lane {{race.lane}}</div>
                                                    </div>
                                                    <div style="display: table-row">
                                                        <div class="paper-font-body2" style="display: table-cell;">{{race.time}} sec</div>
                                                        <div class="paper-font-body2" style="display: table-cell; text-align: right;">{{race.placeText}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                                        <!--<div class="paper-font-subhead" style="margin-left: 25px;">{{lane.car}}</div>-->
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </template>

    <script>
        // Polymer({
        //     is: 'rlm-current-race-details',

        //     properties: {
        //         tournament: {
        //             type: Object,
        //             reflectToAttribute: true,
        //         },
        //         lanes: {
        //             type: Array,
        //             value: [
        //                 {
        //                     lane: 1,
        //                     car: 'Ghost',
        //                     name: 'Brenden M.',
        //                     time: 0,
        //                     history: [
        //                         {
        //                             race: 1,
        //                             time: 6.253,
        //                             lane: 3,
        //                             place: 2,
        //                             placeText: "2nd",
        //                             points: 2,
        //                         },
        //                         {
        //                             race: 2,
        //                             time: 5.75,
        //                             lane: 4,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         },
        //                         {
        //                             race: 3,
        //                             time: 6.125,
        //                             lane: 2,
        //                             place: 2,
        //                             placeText: "2nd",
        //                             points: 2,
        //                         },
        //                     ],
        //                 },
        //                 {
        //                     lane: 2,
        //                     car: 'Black Night of the desert',
        //                     name: 'Owen A.',
        //                     time: 0,
        //                     history: [
        //                         {
        //                             race: 1,
        //                             time: 5.74,
        //                             lane: 1,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         },
        //                         {
        //                             race: 2,
        //                             time: 5.79,
        //                             lane: 3,
        //                             place: 3,
        //                             placeText: "3rd",
        //                             points: 1,
        //                         },
        //                         {
        //                             race: 3,
        //                             time: 6.122,
        //                             lane: 4,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         }
        //                     ],
        //                 },
        //                 {
        //                     lane: 3,
        //                     car: 'Viper',
        //                     name: 'Sean J.',
        //                     time: 0,
        //                     history: [
        //                        {
        //                            race: 1,
        //                            time: 6.301,
        //                            lane: 4,
        //                            place: 3,
        //                            placeText: "3rd",
        //                            points: 1,
        //                        },
        //                        {
        //                            race: 2,
        //                            time: 5.76,
        //                            lane: 2,
        //                            place: 2,
        //                            placeText: "2nd",
        //                            points: 2,
        //                        },
        //                        {
        //                            race: 3,
        //                            time: 6.122,
        //                            lane: 1,
        //                            place: 3,
        //                            placeText: "3rd",
        //                            points: 1,
        //                        }
        //                     ],
        //                 },
        //                 {
        //                     lane: 4,
        //                     car: 'Lightning',
        //                     name: 'Noob',
        //                     time: 0,
        //                     history: [
        //                        {
        //                            race: 1,
        //                            time: 7.503,
        //                            lane: 2,
        //                            place: 4,
        //                            placeText: "4th",
        //                            points: 0,
        //                        },
        //                        {
        //                            race: 2,
        //                            time: 7.325,
        //                            lane: 1,
        //                            place: 4,
        //                            placeText: "4th",
        //                            points: 0,
        //                        },
        //                        {
        //                            race: 3,
        //                            time: 7.625,
        //                            lane: 3,
        //                            place: 4,
        //                            placeText: "4th",
        //                            points: 0,
        //                        },
        //                     ],
        //                 },
        //                 {
        //                     lane: 5,
        //                     car: 'Ghost',
        //                     name: 'Brenden M.',
        //                     time: 0,
        //                     history: [
        //                         {
        //                             race: 1,
        //                             time: 6.253,
        //                             lane: 3,
        //                             place: 2,
        //                             placeText: "2nd",
        //                             points: 2,
        //                         },
        //                         {
        //                             race: 2,
        //                             time: 5.75,
        //                             lane: 4,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         },
        //                         {
        //                             race: 3,
        //                             time: 6.125,
        //                             lane: 2,
        //                             place: 2,
        //                             placeText: "2nd",
        //                             points: 2,
        //                         },
        //                     ],
        //                 },
        //                 {
        //                     lane: 6,
        //                     car: 'Black Night',
        //                     name: 'Owen A.',
        //                     time: 0,
        //                     history: [
        //                         {
        //                             race: 1,
        //                             time: 5.74,
        //                             lane: 1,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         },
        //                         {
        //                             race: 2,
        //                             time: 5.79,
        //                             lane: 3,
        //                             place: 3,
        //                             placeText: "3rd",
        //                             points: 1,
        //                         },
        //                         {
        //                             race: 3,
        //                             time: 6.122,
        //                             lane: 4,
        //                             place: 1,
        //                             placeText: "1st",
        //                             points: 3,
        //                         }
        //                     ],
        //                 },
        //             ],
        //         },
        //     },
        // });
    </script>
</dom-module>
<script type="text/javascript" src="/models/tournament.js"></script>
<script type="text/javascript" src="/models/race-lane-assignment.js"></script>
<script type="text/javascript" src="rlm-current-race-details.js"></script>
