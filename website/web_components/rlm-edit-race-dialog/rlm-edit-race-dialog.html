<link rel="import" href="/bower_components/polymer/polymer.html" />
<link rel="import" href="/bower_components/paper-input/paper-input.html" />
<link rel="import" href="/bower_components/paper-button/paper-button.html" />
<link rel="import" href="/bower_components/paper-dialog/paper-dialog.html" />
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html" />
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html" />

<dom-module id="rlm-edit-race-dialog">
    <template>
        <custom-style>
            <style is="custom-style" include="shared-styles iron-flex iron-flex-alignment">
                .flex-vertical {
                    @apply --layout-vertical;
                }

                .flex-horizontal {
                    @apply --layout-horizontal;
                }
            </style>
        </custom-style>
        <div id="rlmEditRaceDialogHolder">
            <paper-dialog id="editRaceDialog" modal>
                <h2>[[title]]</h2>
                <div class="flex-vertical">
                    <template is="dom-repeat" items="{{race.laneAssignments}}" as="laneAssignment">
                        <div class="flex-horizontal">
                            <div class="flex">Lane {{laneAssignment.lane}}</div>
                            <div class="flex">{{laneAssignment.car.name}}</div>
                            <div class="flex">
                                <paper-input id$="lane[[laneAssignment.lane]]Time" label="Time" type="number" value="{{laneAssignment.elapsedTime}}"></paper-input>
                                <paper-input id$="lane[[laneAssignment.lane]]Points" label="Points" type="number" value="{{laneAssignment.points}}"></paper-input>
                            </div>
                        </div>
                    </template>
                </div>
                <div class="buttons">
                    <paper-button on-tap="saveTapped">[[saveText]]</paper-button>
                    <paper-button on-tap="cancelTapped">[[cancelText]]</paper-button>
                </div>
            </paper-dialog>
        </div>
    </template>
</dom-module>

<script type="text/javascript" src="/models/race.js"></script>
<script type="text/javascript" src="rlm-edit-race-dialog.js"></script>
